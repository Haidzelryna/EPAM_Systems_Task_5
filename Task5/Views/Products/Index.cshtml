@using DevExtreme.AspNet.Mvc

@model List<BLL.Product>

@{
    ViewBag.Title = "Products";
}

<h2>Products List</h2>

<script src="https://unpkg.com/devextreme-aspnet-data/js/dx.aspnet.data.js"></script>

@(Html.DevExtreme().DataGrid<BLL.Product>()
    .ID("gridContainerProducts")

    //.DataSource(Model)

    .DataSource(d => d.Mvc().Controller("ProductsMVC").Key("Id").LoadAction("Get"))

    .ShowBorders(true)

    .Selection(s => s.Mode(SelectionMode.Single))

    .Editing(e => e
        .Mode(GridEditMode.Form)
        .AllowAdding(true)
        .AllowDeleting(true)
        .AllowUpdating(true)
    )

    .SearchPanel(searchPanel => searchPanel
        .Visible(true)
        .Width(240)
        .Placeholder("Search...")
    )

    .Paging(p => p.PageSize(10))

    .Pager(p => p
        .ShowPageSizeSelector(true)
        .AllowedPageSizes(new[] { 10, 25, 50, 100 })
    )

    .HeaderFilter(headerFilter => headerFilter.Visible(true))

        .FilterRow(filterRow => filterRow
        .Visible(true)
        .ApplyFilter(GridApplyFilterMode.Auto)
    )

    .AllowColumnReordering(true)
    .AllowColumnResizing(true)
    .ColumnAutoWidth(true)
    .ShowBorders(true)
    .ColumnChooser(c => c.Enabled(true))
    .ColumnFixing(c => c.Enabled(true))

    .Columns(columns =>
    {
        columns.AddFor(m => m.Name);
        columns.AddFor(m => m.Price);
    })
)

